<!DOCTYPE html>
<html>
  <head>
    <title>Cuaca Default</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Ropa+Sans&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Oxanium:wght@800&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Barlow:ital,wght@1,500&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@700&display=swap');
      .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 700, 'GRAD' 200, 'opsz' 48;
      }
      .titleh {
        font-family: 'Oxanium', cursive;
        text-align: center;
      }
     .paragraph {
       font-family: 'Barlow', sans-serif;
       tet-align: center;
     }
      #AccuWeather {
        font-family: 'Rajdhani', sans-serif;
        text-align: center;
      }
      #AccuWeatherCustom {
        font-family: 'Rajdhani', sans-serif;
        text-align: center;
      }
    </style>
  </head>
  <body onload="getDefaultWeather()">
    <h1 class="titleh">Cuaca Saat Ini Di Ngabab</h1>
    <div id="AccuWeather"></div>
    <br />
    <p class="paragraph">Ingin Mengetahui Cuaca Di Lokasi Mu?, Klik Tombol Dibawah</p>
    <br />
    <button style="font-family: 'Ropa Sans', sans-serif; cursor:pointer; border-radius: 800px; background-color: #28fc03; box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19); padding: 10px 20px;" id="videoAction" onclick="getCustomWeather()">Dapatkan Kostum Cuaca!(LIHAT INSTRUKSI DIBAWAH BIAR GA SALAH PAHAM)</button>
    <br />
    <h2 class="titleh">INSTRUKSI :</h2>
    <p class="paragraph">
      1. Buka Website <a href="https://www.accuweather.com/" target="blank">AccuWeather</a>
      <img src="Screenshot_2023-07-16-15-32-40-405-edit_com.android.chrome.jpg" alt="Gambar 0.1 | Klik Link AccuWeather" />
      <br />
      2. Lalu Cari Lokasi Kalian, Misalnya "Pujon" Nanti Muncul Banyak Pilihan Dari Kata "Pujon".
      <img src="Screenshot_2023-07-16-15-35-12-983-edit_com.android.chrome.jpg" alt="Gambar 0.2 | Cari Lokasi Kalian" />
      Tapi Jika Kalian Malas Atau Gak Tau Dimana Lokasi Kalian, Kalian Bisa Cari Lokasi Itu Otomatis
      <img src="Screenshot_2023-07-16-15-36-45-415-edit_com.android.chrome.jpg" alt="Gambar 0.3 | Cari Lokasi Mu Secara Otomatis" />
      Kalian Juga Pastikan Lokasi Kalian Aktif & Tersedia
      <img src="Screenshot_2023-07-16-15-37-49-858-edit_com.android.chrome.jpg" alt="Gambar 0.4 | Pastikan Lokasi Aktif & Tersedia" />
      Setelah Kalian Mengaktifkan Lokasi & Mengklik Tombol "gunakan lokasi Anda saat ini" Yang Diatas Tadi, Kalian "Izinkan" Akses Websites Untuk Menggunakan Lokasi Kalian
      <img src="Screenshot_2023-07-16-15-38-51-085-edit_com.android.chrome.jpg" alt="Gambar 0.5 | Mengizinkan Website Menggunakan Lokasi Kalian" />
      <br />
      3. Kalo Udah Muncul Cuaca Di Lokasi Kalian, Kalian Tekan Link Nya(Yang Ada Gambar Nya Gembok Disampingnya Ada Tulisan Tekan Itu Diatas Halaman Pokoknya)
      <img src="Screenshot_2023-07-16-15-40-36-424-edit_com.android.chrome.jpg" alt="Gambar 0.6 | Penunjukkan Letak Link Website" />
      <br />
      4. Terus Tekan Gambar Salin Gitu Kek Gini <span class="material-symbols-outlined">content_copy</span>
      <img src="Screenshot_2023-07-16-15-42-16-715-edit_com.android.chrome.jpg" alt="Gambar 0.7 | Salin Link" />
      <br />
      5. Kalo Udah Kembali Kesini Terus Udah Deh.
    </p>
    <br />
    <h3 id="locator"></h3>
    <div id="AccuWeatherCustom"></div>

    <script>
      function getCustomWeather() {
        var url = prompt("Masukkan Link AccuWeather Yang Mengarah Ke Lokasi Cuaca Mu : ");
        if (url) {
          var regex = /\/id\/id\/(\w+)/;
          var regex1 = /(\d+)/;

          var matches = url.match(regex);
          var matches1 = url.match(regex1);
          var mixed1 = matches1 && matches1.length > 1 ? matches1[1] : '';
          var mixed = matches && matches.length > 1 ? matches[1] : ''
          var capitalmixed1 = mixed.charAt(0).toUpperCase() + mixed.slice(1);
         alert(mixed1 + "|" + capitalmixed1)
          var URL = "https://dataservice.accuweather.com/currentconditions/v1/" + mixed1 + "?apikey=HXapWyl4ytt9K1jQcbmogRMji2men1o5&language=ID&details=true";

          fetch(URL)
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              var temperature = data[0].Temperature.Metric.Value;
              var weatherText = data[0].WeatherText;
              var temperatureFormat = data[0].Temperature.Metric.Unit;
              var realfeel = data[0].RealFeelTemperature.Metric.Value;
              var realfeelphrase = data[0].RealFeelTemperature.Metric.Phrase;
              var realfeelshade = data[0].RealFeelTemperatureShade.Metric.Value;
              var realfeelshadephrase = data[0].RealFeelTemperatureShade.Metric.Phrase;

              var x = document.getElementById('AccuWeatherCustom');
              var xx = document.getElementById('locator');
              xx.textContent = "Cuaca Saat Ini Di " + capitalmixed1;
              xx.classList.add("titleh");
              x.innerHTML = "Temperatur : " + temperature + "°" + temperatureFormat + "<br>Cuaca : " + weatherText + "<br>RealFeel® : " + realfeel + "<br>Frasa RealFeel® : " + realfeelphrase + "<br>RealFeel Shade™ : " + realfeelshade + "<br>Frasa RealFeel Shade™ : " + realfeelshadephrase;
            })
            .catch(function (error) {
              alert("Terjadi Kesalahan : \n" + error);
              console.error(error);
            });
        } else {
          alert("Sepertinya Kamu Menekan Tombol Batal Atau Menekan Tombol Oke Pas Placeholder Kosong.");
        }
      }

      function getDefaultWeather() {
        var url = "https://dataservice.accuweather.com/currentconditions/v1/3461865?apikey=HXapWyl4ytt9K1jQcbmogRMji2men1o5&language=ID&details=true";
        fetch(url)
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            var temperature = data[0].Temperature.Metric.Value;
            var weatherText = data[0].WeatherText;
            var temperatureFormat = data[0].Temperature.Metric.Unit;
            var realfeel = data[0].RealFeelTemperature.Metric.Value;
            var realfeelphrase = data[0].RealFeelTemperature.Metric.Phrase;
            var realfeelshade = data[0].RealFeelTemperatureShade.Metric.Value;
            var realfeelshadephrase = data[0].RealFeelTemperatureShade.Metric.Phrase;

            var x = document.getElementById('AccuWeather');
            x.innerHTML = "Temperatur : " + temperature + "°" + temperatureFormat + "<br>Cuaca : " + weatherText + "<br>RealFeel® : " + realfeel + "<br>Frasa RealFeel® : " + realfeelphrase + "<br>RealFeel Shade™ : " + realfeelshade + "<br>Frasa RealFeel Shade™ : " + realfeelshadephrase;
          })
          .catch(function (error) {
            alert("Terjadi Kesalahan : \n" + error);
            console.error(error);
          });
      }
    </script>
  </body>
</html>
