<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>File Upload & Download with Firebase</title>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase.js"></script>
  <script>
    // Initialize Firebase
    const firebaseConfig = {
    apiKey: "AIzaSyCu9wtPR269OEJrbNkKVlZzLioF4MAuyTo",
    authDomain: "boring-websites-b80bd.firebaseapp.com",
    projectId: "boring-websites-b80bd",
    storageBucket: "boring-websites-b80bd.appspot.com",
    messagingSenderId: "666429080579",
    appId: "1:666429080579:web:962cae1283e9055ad5fa36",
    measurementId: "G-YG6NHJ5S5P"
  };
    firebase.initializeApp(firebaseConfig);

    // Create a reference to the storage bucket
    const storage = firebase.storage();

    // Function to upload a file
    function uploadFile() {
      // Get the file from the input element
      const file = document.getElementById("file").files[0];

      // Get the name of the file from the prompt
      const fileName = prompt("Nama file:");

      // Create a reference to the file in the storage bucket
      const fileReference = storage.ref(`/${fileName}`);

      // Upload the file
      fileReference.put(file).then(function() {
        // File uploaded successfully
        console.log("File uploaded successfully");
      }).catch(function(error) {
        // File upload failed
        console.log(error);
      });
    }

    // Function to download a file
    function downloadFile() {
      // Get the name of the file from the prompt
      const fileName = prompt("Nama file yang ingin di download:");

      // Create a reference to the file in the storage bucket
      const fileReference = storage.ref(`/${fileName}`);

      // Download the file
      fileReference.download().then(function(file) {
        // File downloaded successfully
        console.log("File downloaded successfully");
      }).catch(function(error) {
        // File download failed
        console.log(error);
      });
    }

    // Function to display all uploaded files
    function displayFiles() {
      // Get all files in the storage bucket
      const files = storage.ref().listAll();

      // Loop through all files
      files.forEach(function(file) {
        // Get the name and extension of the file
        const fileName = file.name;
        const fileExtension = file.metadata.contentType.split("/")[1];

        // Add the file to the list
        const listItem = document.createElement("li");
        listItem.textContent = `${fileName} (${fileExtension})`;
        document.getElementById("files").appendChild(listItem);
      });
    }

    // Initialize the UI
    document.getElementById("upload").addEventListener("click", uploadFile);
    document.getElementById("download").addEventListener("click", downloadFile);
    displayFiles();
  </script>
</head>
<body>
  <h1>File Upload & Download with Firebase</h1>

  <input type="file" id="file">
  <button id="upload">Upload</button>

  <input type="text" id="fileName">
  <button id="download">Download</button>

  <ul id="files"></ul>
</body>
</html>
